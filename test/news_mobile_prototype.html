<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
	<title>ç§»åŠ¨ç«¯æ–°é—»é¦–é¡µåŸå‹ - VF News</title>
	<style>
		:root {
			--device-width: 390px; /* iPhone 14 å®½åº¦ç›¸è¿‘ */
			--device-height: 760px; /* é€‚é…ä¸€å±å±•ç¤º */
			--radius-24: 24px;
			--radius-16: 16px;
			--radius-12: 12px;
			--shadow-elev: 0 8px 24px rgba(15, 23, 42, .12);
			--primary: #3b82f6;
			--primary-600: #2563eb;
			--accent: #f59e0b;
			--bg: #0b1020;
			--panel: #0f172a;
			--text: #e5e7eb;
			--muted: #9aa4b2;
		}

		/* é¡µé¢èˆå°ï¼Œå·¦å³åˆ†æ ï¼šå·¦ä¾§æ‰‹æœºåŸå‹ï¼Œå³ä¾§è®¾è®¡è¯´æ˜ */
		html, body { height: 100%; }
		body {
			margin: 0;
			font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, PingFang SC, Microsoft YaHei, Helvetica Neue, Arial, Noto Sans, sans-serif;
			background:
				radial-gradient(80% 120% at 10% 10%, #1f2937 0%, transparent 50%),
				radial-gradient(80% 100% at 100% 0%, #111827 0%, transparent 50%),
				linear-gradient(180deg, #0b1020 0%, #0b1020 100%);
			color: var(--text);
			display: flex;
			align-items: center;
			justify-content: center;
			overflow: hidden; /* ä¿è¯ä¸€å± */
		}

		.stage {
			width: min(1100px, 96vw);
			height: min(860px, 96vh);
			display: grid;
			grid-template-columns: var(--device-width) 1fr;
			gap: 24px;
			align-items: center;
		}

		/* æ‰‹æœºè®¾å¤‡å¤–æ¡† */
		.device {
			width: var(--device-width);
			height: var(--device-height);
			border-radius: 38px;
			padding: 14px;
			background: linear-gradient(145deg, #12192b, #0b1020);
			box-shadow: 0 20px 60px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.04);
			position: relative;
		}

		.notch {
			position: absolute;
			top: 10px;
			left: 50%;
			transform: translateX(-50%);
			width: 160px;
			height: 22px;
			border-radius: 12px;
			background: #0b1020;
			box-shadow: inset 0 0 0 1px rgba(255,255,255,.04);
			z-index: 10;
		}

		.screen {
			position: relative;
			width: 100%;
			height: 100%;
			border-radius: 28px;
			overflow: hidden;
			background: linear-gradient(180deg, #0c1226 0%, #0a0f21 100%);
		}

		/* é¡¶éƒ¨æ  */
		.topbar {
			display: flex;
			align-items: center;
			justify-content: space-between;
			padding: 18px 18px 10px;
			position: relative;
			z-index: 1;
		}
		.brand {
			font-weight: 800;
			letter-spacing: .3px;
			font-size: 18px;
			background: linear-gradient(90deg, #60a5fa, #a78bfa, #f472b6);
			-webkit-background-clip: text;
			background-clip: text;
			color: transparent;
		}
		.search {
			flex: 1;
			margin: 0 10px 0 14px;
			position: relative;
		}
		.search input {
			width: 100%;
			padding: 10px 36px 10px 36px;
			border-radius: 12px;
			background: #11172c;
			border: 1px solid rgba(148,163,184,.18);
			color: var(--text);
			outline: none;
			font-size: 13px;
		}
		.search .icon {
			position: absolute;
			left: 10px;
			top: 50%;
			transform: translateY(-50%);
			color: var(--muted);
			font-size: 14px;
		}
		.action {
			width: 36px;
			height: 36px;
			border-radius: 10px;
			background: linear-gradient(145deg, #1a2544, #0f1833);
			border: 1px solid rgba(148,163,184,.16);
			display: grid; place-items: center; color: #fbbf24;
		}

		/* åˆ†ç±»ç­›é€‰æ ‡ç­¾ */
		.tabs { display: flex; gap: 8px; padding: 0 16px 12px; }
		.tab {
			padding: 8px 12px;
			font-size: 12px;
			border-radius: 999px;
			background: #0f1730;
			border: 1px solid rgba(148,163,184,.16);
			color: var(--muted);
			cursor: pointer;
			transition: all .25s ease;
		}
		.tab.active {
			color: white;
			background: linear-gradient(90deg, #2563eb, #7c3aed);
			border-color: transparent;
			box-shadow: 0 6px 18px rgba(124, 58, 237, .35);
		}
		.tab:hover { transform: translateY(-1px); }

		/* æ–°é—»åˆ—è¡¨ */
		.feed { padding: 0 16px 86px; overflow-y: auto; height: calc(100% - 160px); scrollbar-width: none; -webkit-overflow-scrolling: touch; }
		.feed::-webkit-scrollbar { display: none; }
		.card {
			background: #0f172a;
			border: 1px solid rgba(148,163,184,.14);
			border-radius: var(--radius-16);
			overflow: hidden;
			box-shadow: var(--shadow-elev);
			margin-bottom: 12px;
			cursor: pointer;
			transition: transform .18s ease, box-shadow .18s ease;
		}
		.card:hover { transform: translateY(-2px); box-shadow: 0 10px 28px rgba(15, 23, 42, .28); }
		.card .media { height: 150px; background: linear-gradient(120deg, #1e293b, #0b1020); position: relative; }
		.card .media::after { content: ""; position: absolute; inset: 0; background:
			linear-gradient(0deg, rgba(0,0,0,.45), rgba(0,0,0,0)); }
		.card .content { padding: 12px; }
		.title { font-size: 15px; font-weight: 700; line-height: 1.35; margin: 2px 0 8px; }
		.meta { display: flex; align-items: center; gap: 8px; color: var(--muted); font-size: 12px; }
		.tag { padding: 2px 8px; border-radius: 999px; background: rgba(37,99,235,.12); color: #93c5fd; border: 1px solid rgba(59,130,246,.25); }

		/* ä¸‹æ‹‰åˆ·æ–°æŒ‡ç¤ºå™¨ */
		.refresh-indicator { position: sticky; top: -1px; z-index: 2; height: 0; display: flex; align-items: center; justify-content: center; }
		.refresh-chip { margin-top: 10px; padding: 6px 10px; border-radius: 999px; background: rgba(59,130,246,.15); color: #bfdbfe; font-size: 12px; border: 1px solid rgba(59,130,246,.35); opacity: 0; transform: translateY(-12px); transition: all .18s ease; }
		.refresh-chip.show { opacity: 1; transform: translateY(0); }

		/* åº•éƒ¨å¯¼èˆª */
		.bottom-nav {
			position: absolute; left: 0; right: 0; bottom: 0;
			padding: 10px 14px 18px;
			backdrop-filter: blur(10px);
			background: linear-gradient(180deg, rgba(2,6,23,.0), rgba(2,6,23,.55) 25%, rgba(2,6,23,.85));
		}
		.nav {
			background: #0d1429;
			border: 1px solid rgba(148,163,184,.16);
			border-radius: 18px;
			padding: 10px;
			display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px;
		}
		.nav-btn {
			border: 0; outline: 0; cursor: pointer;
			background: transparent; color: var(--muted);
			border-radius: 12px; padding: 8px 6px;
			display: grid; place-items: center; gap: 6px;
			transition: all .2s ease;
			font-size: 12px;
		}
		.nav-btn .ico { font-size: 18px; }
		.nav-btn.active { color: white; background: linear-gradient(180deg, rgba(37,99,235,.16), rgba(37,99,235,.08)); box-shadow: inset 0 0 0 1px rgba(59,130,246,.35); }
		.nav-btn:hover { transform: translateY(-1px); }

		/* è¯¦æƒ…å¼¹å±‚ */
		.modal {
			position: absolute; inset: 0; display: none; place-items: end; background: rgba(2,6,23,.55);
		}
		.modal.open { display: grid; }
		.sheet {
			width: 100%; max-height: 78%; border-top-left-radius: 20px; border-top-right-radius: 20px;
			background: #0d1326; border: 1px solid rgba(148,163,184,.16);
			box-shadow: 0 -10px 40px rgba(0,0,0,.45);
			animation: slideUp .24s ease-out;
		}
		@keyframes slideUp { from { transform: translateY(12px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
		.sheet .handle { width: 44px; height: 4px; border-radius: 4px; background: rgba(148,163,184,.35); margin: 8px auto; }
		.sheet .body { padding: 10px 14px 14px; overflow-y: auto; max-height: calc(78vh - 20px); }
		.sheet h3 { margin: 6px 0 10px; font-size: 16px; }
		.sheet .para { color: var(--muted); line-height: 1.6; font-size: 13px; }

		/* å³ä¾§è®¾è®¡è¯´æ˜ */
		.notes {
			align-self: stretch;
			display: flex; flex-direction: column;
			gap: 10px; padding: 12px 16px;
			background: rgba(15,23,42,.6);
			border: 1px solid rgba(148,163,184,.18);
			border-radius: 18px;
			overflow: hidden;
		}
		.notes h2 { margin: 0; font-size: 18px; }
		.note-item { display: flex; gap: 10px; align-items: flex-start; font-size: 13px; color: #cbd5e1; }
		.badge { width: 22px; height: 22px; border-radius: 999px; background: #1e293b; display: grid; place-items: center; color: #93c5fd; font-weight: 700; border: 1px solid rgba(148,163,184,.3); }
		.note-em { color: #f8fafc; }

		/* UI æ ‡æ³¨æ•°å­—ï¼ˆä¸è¯´æ˜å¯¹åº”ï¼‰*/
		.dot {
			position: absolute; width: 22px; height: 22px; border-radius: 999px;
			background: #1e293b; border: 1px solid rgba(148,163,184,.35);
			color: #93c5fd; font-weight: 700; display: grid; place-items: center; font-size: 12px;
			box-shadow: 0 4px 10px rgba(2,6,23,.5);
		}
		.dot.soft { opacity: .9; }
	</style>
</head>
<body>
	<div class="stage" role="application" aria-label="ç§»åŠ¨ç«¯æ–°é—»é¦–é¡µåŸå‹">
		<!-- å·¦ï¼šæ‰‹æœºåŸå‹ -->
		<div class="device" aria-label="è®¾å¤‡">
			<div class="notch"></div>
			<div class="screen">
				<!-- é¡¶éƒ¨æ  -->
				<div class="topbar">
					<div class="brand">VF News</div>
					<div class="search">
						<span class="icon">ğŸ”</span>
						<input id="searchInput" type="search" placeholder="æœç´¢çƒ­ç‚¹ / è¯é¢˜ / åª’ä½“" aria-label="æœç´¢" />
					</div>
					<div class="action" title="é€šçŸ¥">ğŸ””</div>
				</div>

				<!-- åˆ†ç±»æ ‡ç­¾ï¼ˆç±»åˆ«ç‹¬ç«‹ï¼šåŠ¨æ¼«/æ¼«ç”»/å°è¯´/æœ¬åœ°ï¼‰ -->
				<div class="tabs" role="tablist" aria-label="ç­›é€‰åˆ†ç±»">
					<div class="tab active" role="tab" data-filter="all">å…¨éƒ¨</div>
					<div class="tab" role="tab" data-filter="anime">åŠ¨æ¼«</div>
					<div class="tab" role="tab" data-filter="manga">æ¼«ç”»</div>
					<div class="tab" role="tab" data-filter="novel">å°è¯´</div>
					<div class="tab" role="tab" data-filter="local">æœ¬åœ°</div>
				</div>

				<!-- æ–°é—»åˆ—è¡¨ -->
				<div class="feed" id="feed">
					<div class="refresh-indicator"><div id="refreshChip" class="refresh-chip">é‡Šæ”¾åˆ·æ–°</div></div>
					<!-- åŠ¨æ€åˆ—è¡¨å®¹å™¨ï¼šé™æ€ç¤ºä¾‹å°†è¢«æ›¿æ¢ -->
					<div class="card" data-category="anime" data-time="5" data-hot="65">
						<div class="media" style="background-image: linear-gradient(120deg, #1d4ed8, #7c3aed); background-size: cover;">
							<span class="dot soft" style="top: 10px; left: 10px;">1</span>
						</div>
						<div class="content">
							<div class="title">æ–°ç•ªèµ„è®¯ï¼šAI ä½œç”»åŠ©åŠ›ç•ªå‰§åˆ¶ä½œæé€Ÿ</div>
							<div class="meta">
								<span class="tag">åŠ¨æ¼«</span>
								<span>Â· 5 åˆ†é’Ÿå‰</span>
								<span>Â· çƒ­åº¦ 6.5k</span>
							</div>
						</div>
					</div>

					<div class="card" data-category="manga" data-time="60" data-hot="48">
						<div class="media" style="background-image: linear-gradient(120deg, #8b5cf6, #06b6d4);">
						</div>
						<div class="content">
							<div class="title">æ¼«ç”»è¿è½½ï¼šäººæ°”æ–°ä½œå‰§æƒ…è¿æ¥åè½¬é«˜æ½®</div>
							<div class="meta">
								<span class="tag" style="background: rgba(139,92,246,.12); color: #ddd6fe; border-color: rgba(139,92,246,.35);">æ¼«ç”»</span>
								<span>Â· 1 å°æ—¶å‰</span>
								<span>Â· çƒ­åº¦ 4.8k</span>
							</div>
						</div>
					</div>

					<div class="card" data-category="local" data-time="120" data-hot="98">
						<div class="media" style="background-image: linear-gradient(120deg, #ef4444, #f59e0b);">
						</div>
						<div class="content">
							<div class="title">åŸå¸‚å¤œè¯»ä¼šï¼šå›¾ä¹¦é¦†æ¼«ç”»ä¸“åœºäººæ°”ç«çˆ†</div>
							<div class="meta">
								<span class="tag" style="background: rgba(239,68,68,.12); color: #fecaca; border-color: rgba(248,113,113,.35);">æœ¬åœ°</span>
								<span>Â· 2 å°æ—¶å‰</span>
								<span>Â· çƒ­åº¦ 9.8k</span>
							</div>
						</div>
					</div>

					<div class="card" data-category="novel" data-time="20" data-hot="23">
						<div class="media" style="background-image: linear-gradient(120deg, #10b981, #06b6d4);">
						</div>
						<div class="content">
							<div class="title">åŸåˆ›å°è¯´æ¦œï¼šæ–°ä½œç™»é¡¶ï¼Œè¯„è®ºçƒ­è®®ä¸–ç•Œè§‚</div>
							<div class="meta">
								<span class="tag" style="background: rgba(16,185,129,.12); color: #a7f3d0; border-color: rgba(16,185,129,.3);">å°è¯´</span>
								<span>Â· 20 åˆ†é’Ÿå‰</span>
								<span>Â· çƒ­åº¦ 1.1k</span>
							</div>
						</div>
					</div>
				</div>

				<!-- åº•éƒ¨å¯¼èˆª -->
				<div class="bottom-nav">
					<div class="nav" role="tablist" aria-label="åº•éƒ¨å¯¼èˆª">
						<button class="nav-btn active" data-tab="home" aria-label="ç»¼åˆ">
							<div class="ico">ğŸ </div>
							<div>ç»¼åˆ</div>
						</button>
						<button class="nav-btn" data-tab="latest" aria-label="æœ€æ–°">
							<div class="ico">ğŸ†•</div>
							<div>æœ€æ–°</div>
						</button>
						<button class="nav-btn" data-tab="hot" aria-label="çƒ­é—¨">
							<div class="ico">ğŸ”¥</div>
							<div>çƒ­é—¨</div>
						</button>
						<button class="nav-btn" data-tab="me" aria-label="æˆ‘çš„">
							<div class="ico">ğŸ‘¤</div>
							<div>æˆ‘çš„</div>
						</button>
					</div>
				</div>

				<!-- è¯¦æƒ…å¼¹å±‚ -->
				<div class="modal" id="modal" aria-hidden="true">
					<div class="sheet" role="dialog" aria-modal="true" aria-label="æ–°é—»è¯¦æƒ…">
						<div class="handle"></div>
						<div class="body">
							<h3 id="detailTitle">æ ‡é¢˜</h3>
							<p class="para" id="detailDesc">è¿™é‡Œæ˜¯æ–°é—»å†…å®¹æ‘˜è¦ã€‚ç‚¹å‡»ç©ºç™½åŒºåŸŸå…³é—­ã€‚</p>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- å³ï¼šè®¾è®¡è¯´æ˜ï¼ˆä¸ UI ä¸Šçš„æ ‡æ³¨æ•°å­—å¯¹åº”ï¼‰ -->
		<section class="notes" aria-label="è®¾è®¡è¯´æ˜">
			<h2>åŸå‹è®¾è®¡è¯´æ˜</h2>
			<div class="note-item"><span class="badge">1</span><div>é¡¶éƒ¨é‡‡ç”¨ <span class="note-em">å“ç‰Œ + æœç´¢ + å¿«æ·æ“ä½œ</span>ä¸‰æ®µå¼å¸ƒå±€ï¼Œå½¢æˆæ¸…æ™°çš„ä»»åŠ¡å…¥å£ã€‚</div></div>
			<div class="note-item"><span class="badge">2</span><div>åˆ†ç±» <span class="note-em">Tags</span> ä½œä¸ºäºŒçº§ç­›é€‰ï¼Œæ”¯æŒå¿«é€Ÿåˆ‡æ¢ã€ŒåŠ¨æ¼«/æ¼«ç”»/å°è¯´/æœ¬åœ°ã€ç­‰ç±»åˆ«ï¼Œä¸ä¸»æ’åºç‹¬ç«‹ã€‚</div></div>
			<div class="note-item"><span class="badge">3</span><div>æ–°é—»å¡ç‰‡é‡‡ç”¨ <span class="note-em">åª’ä½“å›¾ + æ ‡é¢˜ + å…ƒä¿¡æ¯</span>ç»“æ„ï¼Œä¿¡æ¯å±‚çº§æ˜ç¡®ï¼Œå¡ç‰‡æ‚¬æµ®æœ‰è½»å¾®å‡èµ·æ•ˆæœã€‚</div></div>
			<div class="note-item"><span class="badge">4</span><div>åº•éƒ¨å¯¼èˆªå›ºå®šï¼Œå››è‰²è¯­ä¹‰å›¾æ ‡å¯¹é½ã€Œç»¼åˆã€æœ€æ–°ã€çƒ­é—¨ã€æˆ‘çš„ã€ï¼Œä¸é¡¶éƒ¨ç±»åˆ«ç­›é€‰ç›¸äº’ç‹¬ç«‹ã€‚</div></div>
			<div class="note-item"><span class="badge">5</span><div>ç‚¹å‡»å¡ç‰‡å¼¹å‡º <span class="note-em">åº•éƒ¨æŠ½å±‰</span>æŸ¥çœ‹æ‘˜è¦ï¼›ç‚¹å‡»ç©ºç™½åŒºåŸŸå…³é—­ï¼Œæ»¡è¶³ç§»åŠ¨ç«¯å¸¸è§äº¤äº’å¿ƒæ™ºã€‚</div></div>
			<div class="note-item"><span class="badge">6</span><div>æ•´ä½“é‡‡ç”¨ <span class="note-em">æ·±è‰²æ°›å›´ + éœ“è™¹æ¸å˜</span>ï¼Œå¯¹ç„¦æ ¸å¿ƒå†…å®¹ï¼Œå…¼é¡¾å¯è¯»æ€§ä¸è´¨æ„Ÿã€‚</div></div>
		</section>
	</div>

	<script>
		const tabs = Array.from(document.querySelectorAll('.tab'));
		const feed = document.getElementById('feed');
		let cards = Array.from(feed.querySelectorAll('.card'));
		const navBtns = Array.from(document.querySelectorAll('.nav-btn'));
		const modal = document.getElementById('modal');
		const detailTitle = document.getElementById('detailTitle');
		const detailDesc = document.getElementById('detailDesc');
		const searchInput = document.getElementById('searchInput');
		const refreshChip = document.getElementById('refreshChip');

		const BASE_URL = 'http://localhost:5175';

		async function fetchNews(category, sort){
			const url = new URL(BASE_URL + '/api/news');
			if (category) url.searchParams.set('category', category);
			if (sort) url.searchParams.set('sort', sort);
			const res = await fetch(url.toString());
			const data = await res.json();
			return data.items || [];
		}

		function renderList(items){
			// æ¸…ç†åŠ¨æ€å¡ç‰‡ï¼ˆä¿ç•™ refresh-indicatorï¼‰
			Array.from(feed.querySelectorAll('.card')).forEach(n => n.remove());
			const frag = document.createDocumentFragment();
			items.forEach((it, idx) => {
				const card = document.createElement('div');
				card.className = 'card';
				card.setAttribute('data-category', it.category || 'novel');
				card.setAttribute('data-time', String(it.time || 0));
				card.setAttribute('data-hot', String(it.hot || 0));
				card.innerHTML = `
					<div class="media" style="background-image: linear-gradient(120deg, #1e293b, #0b1020);"></div>
					<div class="content">
						<div class="title">${escapeHtml(it.title || 'è™šæ‹Ÿæ–°é—»')}</div>
						<div class="meta">
							<span class="tag">${mapCategory(it.category)}</span>
							<span>Â· çƒ­åº¦ ${it.hot || 0}</span>
						</div>
					</div>`;
				card.addEventListener('click', () => openDetail(it.title, it.content));
				frag.appendChild(card);
			});
			feed.appendChild(frag);
			cards = Array.from(feed.querySelectorAll('.card'));
		}

		function escapeHtml(str=''){
			return str.replace(/[&<>"]+/g, s => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;'}[s]));
		}
		function mapCategory(key){
			return ({anime:'åŠ¨æ¼«', manga:'æ¼«ç”»', novel:'å°è¯´', local:'æœ¬åœ°'}[key] || 'ç»¼åˆ');
		}

		let currentCategory = 'all';
		let currentSort = 'home'; // home=ç»¼åˆã€latest=æŒ‰æ—¶é—´ã€hot=æŒ‰çƒ­åº¦

		function setActiveTab(filter) {
			tabs.forEach(t => t.classList.toggle('active', t.dataset.filter === filter || (filter === 'all' && t.dataset.filter === 'all')));
			currentCategory = filter;
		}

		function setActiveNav(key) {
			navBtns.forEach(b => b.classList.toggle('active', b.dataset.tab === key));
			currentSort = key;
		}

		function applyCategoryAndSort() {
			// 1) è¿‡æ»¤ï¼šç±»åˆ«
			cards.forEach(card => {
				const cat = card.getAttribute('data-category');
				const visible = currentCategory === 'all' || cat === currentCategory;
				card.style.display = visible ? '' : 'none';
			});

			// 2) æ’åºï¼šç»¼åˆï¼ˆé»˜è®¤é¡ºåºï¼‰ã€æŒ‰æ—¶é—´ï¼ˆdata-time å‡åº=è¶Šæ–°è¶Šé å‰ï¼‰ã€æŒ‰çƒ­åº¦ï¼ˆdata-hot é™åºï¼‰
			const visibleCards = cards.filter(c => c.style.display !== 'none');
			let sorted = [...visibleCards];
			if (currentSort === 'latest') {
				sorted.sort((a,b) => Number(a.dataset.time) - Number(b.dataset.time));
			} else if (currentSort === 'hot') {
				sorted.sort((a,b) => Number(b.dataset.hot) - Number(a.dataset.hot));
			}
			// é‡æ–°é™„åŠ èŠ‚ç‚¹ï¼Œä½“ç°æ’åº
			sorted.forEach(node => feed.appendChild(node));
		}

		// é¡¶éƒ¨ç±»åˆ«ç‚¹å‡»
		tabs.forEach(tab => {
			tab.addEventListener('click', () => {
				const filter = tab.dataset.filter;
				setActiveTab(filter);
				applyCategoryAndSort();
			});
		});

		// åº•éƒ¨æ’åºç‚¹å‡»
		navBtns.forEach(btn => {
			btn.addEventListener('click', () => {
				const key = btn.dataset.tab;
				setActiveNav(key);
				applyCategoryAndSort();
				if (key === 'me') {
					openDetail('æˆ‘çš„', 'è¿™é‡Œå±•ç¤ºç”¨æˆ·èµ„æ–™ã€æ”¶è—ã€å†å²ç­‰ã€‚åŸå‹ä¸­ä»¥è¯´æ˜æ›¿ä»£ï¼Œå¯åœ¨å®é™…äº§å“ä¸­æ¥å…¥ç”¨æˆ·ä¸­å¿ƒã€‚');
				}
			});
		});

		// å¡ç‰‡ç‚¹å‡» -> è¯¦æƒ…
		cards.forEach(card => {
			card.addEventListener('click', () => {
				const title = card.querySelector('.title')?.textContent?.trim() || 'è¯¦æƒ…';
				openDetail(title, 'è¿™æ˜¯ä¸€æ®µç”¨äºæ¼”ç¤ºçš„æ‘˜è¦ã€‚å®é™…é¡¹ç›®ä¸­æ›¿æ¢ä¸ºçœŸå®å†…å®¹ã€‚ç‚¹å‡»å¤–éƒ¨å…³é—­ã€‚');
			});
		});

		function openDetail(title, desc) {
			detailTitle.textContent = title;
			detailDesc.textContent = desc;
			modal.classList.add('open');
			modal.setAttribute('aria-hidden', 'false');
		}

		modal.addEventListener('click', (e) => {
			if (e.target === modal) {
				modal.classList.remove('open');
				modal.setAttribute('aria-hidden', 'true');
			}
		});

		// æœç´¢è”æƒ³ï¼ˆç®€å•é«˜äº®æ¼”ç¤ºï¼‰
		searchInput.addEventListener('input', () => {
			const q = searchInput.value.trim();
			cards.forEach(card => {
				const title = card.querySelector('.title')?.textContent || '';
				const ok = !q || title.includes(q);
				card.style.opacity = ok ? '1' : '.25';
			});
		});

		// åˆå§‹åŒ–é»˜è®¤è§†å›¾
		setActiveTab('all');
		setActiveNav('home');
		applyCategoryAndSort();
	</script>
</body>
</html>

